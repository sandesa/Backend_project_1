@page
@model Webbshop.Pages.SearchModel

<div class="container">
    <form style="display: flex;" method="get">
        <div>
            <input asp-for="Search" id="searchString" type="text" placeholder="Search" />
        </div>
        <div>
            <label for="filter">Filter:</label>
            <select asp-for="Filter" id="filter">
                <option value="">All</option>
                <option value="Kläder">Kläder</option>
                <option value="Accessoarer">Accessoarer</option>
                <option value="Mat och dryck">Mat och dryck</option>
                <option value="Elektronik">Elektronik</option>
                <option value="Hem och trädgård">Hem och trädgård</option>
                <option value="Sport och fritid">Sport och fritid</option>
                <option value="Utomhus">Utomhus</option>
            </select>
        </div>
        <button type="submit" class="search-btn">Search</button>
    </form>
</div>

<div class="container products">
    @foreach (var product in Model.Products)
    {
        <div class="container-product">
            <div class="container-card">
                <a asp-page="/Order" asp-route-id="@product.Id">
                    <div class="container-img">
                        <img src="/images/products/@product.ImageName" alt="@product.ImageName" />
                    </div>
                    <div class="card-body">
                        <h2 class="card-title">@product.Name</h2>
                        <p class="card-desc">@product.Description</p>
                        <div class="bot-info">
                            <span>@(product.Price.ToString("c"))</span>
                            <a asp-page="/Order" asp-route-id="@product.Id"><button>Order Now</button></a>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    }
    @if (Model.TotalPages > 1)
    {
        <div class="pagination">
            @if (Model.CurrentPage > 1)
            {
                <a asp-page-handler="PageIndex" asp-route-pageNum="1" class="page-link">First</a>
                <a asp-page-handler="PageIndex" asp-route-pageNum="@(Model.CurrentPage - 1)" class="page-link">Previous</a>
            }

            @for (int i = 1; i <= Model.TotalPages; i++)
            {
                <a asp-page-handler="PageIndex" asp-route-pageNum="@i" class="page-link">@i</a>
            }

            @if (Model.CurrentPage < Model.TotalPages)
            {
                <a asp-page-handler="PageIndex" asp-route-pageNum="@(Model.CurrentPage + 1)" class="page-link">Next</a>
                <a asp-page-handler="PageIndex" asp-route-pageNum="@Model.TotalPages" class="page-link">Last</a>
            }
        </div>
    }
</div>